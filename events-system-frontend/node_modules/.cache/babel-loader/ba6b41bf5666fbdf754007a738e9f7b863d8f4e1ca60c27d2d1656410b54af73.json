{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import'./AdminDashboardPage.css';import AdminHeader from'./AdminHeader';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboardPage=()=>{const[counters,setCounters]=useState({pending:0,approved:0,rejected:0});const[profiles,setProfiles]=useState([]);const[selectedStatus,setSelectedStatus]=useState(null);const navigate=useNavigate();useEffect(()=>{const fetchCounters=async()=>{try{const token=localStorage.getItem('jwt_token');const response=await fetch('/api/admin/event-counters',{headers:{'Authorization':`Bearer ${token}`}});if(response.ok){const data=await response.json();setCounters(data);}else{console.error('Failed to fetch event counters');}}catch(error){console.error('Error fetching event counters:',error);}};fetchCounters();},[]);const handleManageEvents=()=>{navigate('/admin/manage-events');};const handleManageUsers=()=>{navigate('/admin/manage-users');};const handleCreateAdmin=()=>{navigate('/admin/create-admin');};const handleViewLogs=()=>{navigate('/admin/view-logs');};const handleLogout=()=>{navigate('/login');};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard\",children:[/*#__PURE__*/_jsx(AdminHeader,{}),/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Profile Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"counters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"counter\",onClick:()=>handleStatusClick('Pending'),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Pending\"}),/*#__PURE__*/_jsx(\"p\",{children:counters.pending})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"counter\",onClick:()=>handleStatusClick('Approved'),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Approved\"}),/*#__PURE__*/_jsx(\"p\",{children:counters.approved})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"counter\",onClick:()=>handleStatusClick('Rejected'),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Rejected\"}),/*#__PURE__*/_jsx(\"p\",{children:counters.rejected})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:`manage-events-button ${counters.pending>0?'glow':''}`,onClick:handleManageEvents,children:\"Manage Events\"}),/*#__PURE__*/_jsx(\"button\",{className:\"manage-users-button\",onClick:handleManageUsers,children:\"Manage Users\"}),/*#__PURE__*/_jsx(\"button\",{className:\"create-admin-button\",onClick:handleCreateAdmin,children:\"Create Admin\"}),/*#__PURE__*/_jsx(\"button\",{className:\"view-logs-button\",onClick:handleViewLogs,children:\"View Logs\"})]})]})]});};export default AdminDashboardPage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","AdminHeader","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","AdminDashboardPage","counters","setCounters","pending","approved","rejected","profiles","setProfiles","selectedStatus","setSelectedStatus","navigate","fetchCounters","token","localStorage","getItem","response","fetch","headers","ok","data","json","console","error","handleManageEvents","handleManageUsers","handleCreateAdmin","handleViewLogs","handleLogout","className","children","onClick","handleStatusClick"],"sources":["C:/Users/Rindella Nhavoto/Desktop/ProjectsVSC/SWEproject/EventsGit/DLMCSPSE01_Rindella_Nhavoto_9222794/events-system-frontend/src/components/AdminDashboardPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './AdminDashboardPage.css';\r\nimport AdminHeader from './AdminHeader';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst AdminDashboardPage = () => {\r\n  const [counters, setCounters] = useState({ pending: 0, approved: 0, rejected: 0 });\r\n  const [profiles, setProfiles] = useState([]);\r\n  const [selectedStatus, setSelectedStatus] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchCounters = async () => {\r\n      try {\r\n        const token = localStorage.getItem('jwt_token');\r\n        const response = await fetch('/api/admin/event-counters', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n          },\r\n        });\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setCounters(data);\r\n        } else {\r\n          console.error('Failed to fetch event counters');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching event counters:', error);\r\n      }\r\n    };\r\n\r\n    fetchCounters();\r\n  }, []);\r\n\r\n  const handleManageEvents = () => {\r\n    navigate('/admin/manage-events');\r\n  };\r\n\r\n  const handleManageUsers = () => {\r\n    navigate('/admin/manage-users');\r\n  };\r\n\r\n  const handleCreateAdmin = () => {\r\n    navigate('/admin/create-admin');\r\n  };\r\n\r\n  const handleViewLogs = () => {\r\n    navigate('/admin/view-logs');\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    navigate('/login');\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-dashboard\">\r\n      <AdminHeader />\r\n      <ToastContainer />\r\n      <div className=\"content\">\r\n        <h1>Admin Dashboard</h1>\r\n\r\n        <h2>Profile Status</h2>\r\n        <div className=\"counters\">\r\n          <div className=\"counter\" onClick={() => handleStatusClick('Pending')}>\r\n            <h3>Pending</h3>\r\n            <p>{counters.pending}</p>\r\n          </div>\r\n          <div className=\"counter\" onClick={() => handleStatusClick('Approved')}>\r\n            <h3>Approved</h3>\r\n            <p>{counters.approved}</p>\r\n          </div>\r\n          <div className=\"counter\" onClick={() => handleStatusClick('Rejected')}>\r\n            <h3>Rejected</h3>\r\n            <p>{counters.rejected}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"actions\">\r\n          <button\r\n            className={`manage-events-button ${counters.pending > 0 ? 'glow' : ''}`}\r\n            onClick={handleManageEvents}\r\n          >\r\n            Manage Events\r\n          </button>\r\n          <button className=\"manage-users-button\" onClick={handleManageUsers}>\r\n            Manage Users\r\n          </button>\r\n          <button className=\"create-admin-button\" onClick={handleCreateAdmin}>\r\n            Create Admin\r\n          </button>\r\n          <button className=\"view-logs-button\" onClick={handleViewLogs}>\r\n            View Logs\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboardPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}