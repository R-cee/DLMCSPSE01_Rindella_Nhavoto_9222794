{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./MyEvents.css';import AttendeeHeader from'./AttendeeHeader';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MyEvents=()=>{const[purchasedEvents,setPurchasedEvents]=useState([]);const[likedEvents,setLikedEvents]=useState([]);useEffect(()=>{const fetchMyEvents=async()=>{try{const token=localStorage.getItem('jwt_token');const response=await fetch('/api/my-events',{method:'GET',headers:{'Content-Type':'application/json','Authorization':`Bearer ${token}`}});if(response.ok){const data=await response.json();setPurchasedEvents(data.purchased_events);setLikedEvents(data.liked_events);}else{console.error('Failed to fetch user events');}}catch(error){console.error('Error fetching user events:',error);}};fetchMyEvents();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"my-events-page\",children:[userRole==='Attendee'&&/*#__PURE__*/_jsx(AttendeeHeader,{}),/*#__PURE__*/_jsx(\"h2\",{children:\"Purchased Events\"}),purchasedEvents.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"events-container\",children:purchasedEvents.map(event=>/*#__PURE__*/_jsxs(\"div\",{className:\"event-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:`/event_images/${event.event_poster}`,alt:event.event_name,className:\"event-poster\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:event.event_name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",new Date(event.event_date).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",event.event_location]})]})]},event.event_id))}):/*#__PURE__*/_jsx(\"p\",{children:\"No purchased events available.\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Liked Events\"}),likedEvents.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"events-container\",children:likedEvents.map(event=>/*#__PURE__*/_jsxs(\"div\",{className:\"event-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:`/event_images/${event.event_poster}`,alt:event.event_name,className:\"event-poster\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"event-details\",children:[/*#__PURE__*/_jsx(\"h3\",{children:event.event_name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",new Date(event.event_date).toLocaleString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Location:\"}),\" \",event.event_location]})]})]},event.event_id))}):/*#__PURE__*/_jsx(\"p\",{children:\"No liked events available.\"})]})});};export default MyEvents;","map":{"version":3,"names":["React","useState","useEffect","AttendeeHeader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyEvents","purchasedEvents","setPurchasedEvents","likedEvents","setLikedEvents","fetchMyEvents","token","localStorage","getItem","response","fetch","method","headers","ok","data","json","purchased_events","liked_events","console","error","children","className","userRole","length","map","event","src","event_poster","alt","event_name","Date","event_date","toLocaleString","event_location","event_id"],"sources":["C:/Users/Rindella Nhavoto/Desktop/ProjectsVSC/SWEproject/EventsGit/DLMCSPSE01_Rindella_Nhavoto_9222794/events-system-frontend/src/components/MyEvents.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './MyEvents.css';\nimport AttendeeHeader from './AttendeeHeader';\n\nconst MyEvents = () => {\n  const [purchasedEvents, setPurchasedEvents] = useState([]);\n  const [likedEvents, setLikedEvents] = useState([]);\n\n  useEffect(() => {\n    const fetchMyEvents = async () => {\n      try {\n        const token = localStorage.getItem('jwt_token');\n        const response = await fetch('/api/my-events', {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`,\n          },\n        });\n\n        if (response.ok) {\n          const data = await response.json();\n          setPurchasedEvents(data.purchased_events);\n          setLikedEvents(data.liked_events);\n        } else {\n          console.error('Failed to fetch user events');\n        }\n      } catch (error) {\n        console.error('Error fetching user events:', error);\n      }\n    };\n\n    fetchMyEvents();\n  }, []);\n\n  return (\n    <>\n      <div className=\"my-events-page\">\n      {userRole === 'Attendee' && <AttendeeHeader />}\n        <h2>Purchased Events</h2>\n        {purchasedEvents.length > 0 ? (\n          <div className=\"events-container\">\n            {purchasedEvents.map((event) => (\n              <div key={event.event_id} className=\"event-card\">\n                <img src={`/event_images/${event.event_poster}`} alt={event.event_name} className=\"event-poster\" />\n                <div className=\"event-details\">\n                  <h3>{event.event_name}</h3>\n                  <p><strong>Date:</strong> {new Date(event.event_date).toLocaleString()}</p>\n                  <p><strong>Location:</strong> {event.event_location}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <p>No purchased events available.</p>\n        )}\n\n        <h2>Liked Events</h2>\n        {likedEvents.length > 0 ? (\n          <div className=\"events-container\">\n            {likedEvents.map((event) => (\n              <div key={event.event_id} className=\"event-card\">\n                <img src={`/event_images/${event.event_poster}`} alt={event.event_name} className=\"event-poster\" />\n                <div className=\"event-details\">\n                  <h3>{event.event_name}</h3>\n                  <p><strong>Date:</strong> {new Date(event.event_date).toLocaleString()}</p>\n                  <p><strong>Location:</strong> {event.event_location}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <p>No liked events available.</p>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default MyEvents;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}