{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./AttendeeNotifications.css';import AttendeeHeader from'./AttendeeHeader';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Notifications=()=>{const[notifications,setNotifications]=useState([]);const[error,setError]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{fetchNotifications();},[]);const fetchNotifications=async()=>{try{const token=localStorage.getItem('jwt_token');const response=await fetch('/attendee-notifications',{headers:{'Authorization':`Bearer ${token}`}});if(response.ok){const data=await response.json();setNotifications(data.notifications);setLoading(false);}else{const errorMessage=await response.json();setError(errorMessage.error||'Failed to fetch notifications');setLoading(false);}}catch(error){setError('Error fetching notifications');setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"notifications-container\",children:[/*#__PURE__*/_jsx(AttendeeHeader,{}),/*#__PURE__*/_jsx(\"h2\",{children:\"Notifications\"}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading notifications...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"table\",{className:\"notifications-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{children:\"Message\"})})}),/*#__PURE__*/_jsx(\"tbody\",{children:notifications.length>0?notifications.map((notification,index)=>/*#__PURE__*/_jsx(\"tr\",{className:notification.is_read?\"notification-item read\":\"notification-item unread\",children:/*#__PURE__*/_jsx(\"td\",{children:notification.message})},index)):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",children:\"No notifications available.\"})})})]})]});};export default Notifications;","map":{"version":3,"names":["React","useState","useEffect","AttendeeHeader","jsx","_jsx","jsxs","_jsxs","Notifications","notifications","setNotifications","error","setError","loading","setLoading","fetchNotifications","token","localStorage","getItem","response","fetch","headers","ok","data","json","errorMessage","className","children","length","map","notification","index","is_read","message","colSpan"],"sources":["C:/Users/Rindella Nhavoto/Desktop/ProjectsVSC/SWEproject/EventsGit/DLMCSPSE01_Rindella_Nhavoto_9222794/events-system-frontend/src/components/AttendeeNotifications.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './AttendeeNotifications.css';\r\nimport AttendeeHeader from './AttendeeHeader';\r\n\r\nconst Notifications = () => {\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchNotifications();\r\n  }, []);\r\n\r\n  const fetchNotifications = async () => {\r\n    try {\r\n      const token = localStorage.getItem('jwt_token');\r\n      const response = await fetch('/attendee-notifications', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setNotifications(data.notifications);\r\n        setLoading(false);\r\n      } else {\r\n        const errorMessage = await response.json();\r\n        setError(errorMessage.error || 'Failed to fetch notifications');\r\n        setLoading(false);\r\n      }\r\n    } catch (error) {\r\n      setError('Error fetching notifications');\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"notifications-container\">\r\n      <AttendeeHeader />\r\n      <h2>Notifications</h2>\r\n      {loading && <p>Loading notifications...</p>}\r\n      {error && <p className=\"error\">{error}</p>}\r\n      <table className=\"notifications-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Message</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {notifications.length > 0 ? (\r\n            notifications.map((notification, index) => (\r\n              <tr\r\n                key={index}\r\n                className={notification.is_read ? \"notification-item read\" : \"notification-item unread\"}\r\n              >\r\n                <td>{notification.message}</td>\r\n              </tr>\r\n            ))\r\n          ) : (\r\n            <tr>\r\n              <td colSpan=\"2\">No notifications available.</td>\r\n            </tr>\r\n          )}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notifications;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,6BAA6B,CACpC,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9C,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAE5CC,SAAS,CAAC,IAAM,CACda,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACF,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAC/C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,yBAAyB,CAAE,CACtDC,OAAO,CAAE,CACP,eAAe,CAAE,UAAUL,KAAK,EAClC,CACF,CAAC,CAAC,CAEF,GAAIG,QAAQ,CAACG,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAClCd,gBAAgB,CAACa,IAAI,CAACd,aAAa,CAAC,CACpCK,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,IAAM,CACL,KAAM,CAAAW,YAAY,CAAG,KAAM,CAAAN,QAAQ,CAACK,IAAI,CAAC,CAAC,CAC1CZ,QAAQ,CAACa,YAAY,CAACd,KAAK,EAAI,+BAA+B,CAAC,CAC/DG,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAE,MAAOH,KAAK,CAAE,CACdC,QAAQ,CAAC,8BAA8B,CAAC,CACxCE,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEP,KAAA,QAAKmB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCtB,IAAA,CAACF,cAAc,GAAE,CAAC,cAClBE,IAAA,OAAAsB,QAAA,CAAI,eAAa,CAAI,CAAC,CACrBd,OAAO,eAAIR,IAAA,MAAAsB,QAAA,CAAG,0BAAwB,CAAG,CAAC,CAC1ChB,KAAK,eAAIN,IAAA,MAAGqB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEhB,KAAK,CAAI,CAAC,cAC1CJ,KAAA,UAAOmB,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eACpCtB,IAAA,UAAAsB,QAAA,cACEtB,IAAA,OAAAsB,QAAA,cACEtB,IAAA,OAAAsB,QAAA,CAAI,SAAO,CAAI,CAAC,CACd,CAAC,CACA,CAAC,cACRtB,IAAA,UAAAsB,QAAA,CACGlB,aAAa,CAACmB,MAAM,CAAG,CAAC,CACvBnB,aAAa,CAACoB,GAAG,CAAC,CAACC,YAAY,CAAEC,KAAK,gBACpC1B,IAAA,OAEEqB,SAAS,CAAEI,YAAY,CAACE,OAAO,CAAG,wBAAwB,CAAG,0BAA2B,CAAAL,QAAA,cAExFtB,IAAA,OAAAsB,QAAA,CAAKG,YAAY,CAACG,OAAO,CAAK,CAAC,EAH1BF,KAIH,CACL,CAAC,cAEF1B,IAAA,OAAAsB,QAAA,cACEtB,IAAA,OAAI6B,OAAO,CAAC,GAAG,CAAAP,QAAA,CAAC,6BAA2B,CAAI,CAAC,CAC9C,CACL,CACI,CAAC,EACH,CAAC,EACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}