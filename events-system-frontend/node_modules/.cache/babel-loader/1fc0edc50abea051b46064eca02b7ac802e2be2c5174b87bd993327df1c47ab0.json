{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import'./AdminDashboardPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboardPage=()=>{const[counters,setCounters]=useState({pending:0,approved:0,rejected:0});const[profiles,setProfiles]=useState([]);const[selectedStatus,setSelectedStatus]=useState(null);const navigate=useNavigate();useEffect(()=>{// Fetch the counts for pending, approved, and rejected profiles\nconst fetchCounters=async()=>{try{const response=await fetch('/api/admin/profile-counters');const data=await response.json();setCounters(data);}catch(error){console.error('Error fetching profile counters:',error);}};fetchCounters();},[]);const handleStatusClick=async status=>{setSelectedStatus(status);try{const response=await fetch(`/api/admin/profiles?status=${status}`);const data=await response.json();setProfiles(data);}catch(error){console.error(`Error fetching ${status} profiles:`,error);}};const handleProfileClick=profile=>{navigate(`/admin/vetting/${profile.user_id}`,{state:{profile,isAdmin:true}});};const handleManageUsers=()=>{navigate('/admin/manage-users');};const handleManageEvents=()=>{navigate('/admin/manage-events');};const handleCreateAdmin=()=>{navigate('/admin/create-admin');};const handleManageIntegrations=()=>{navigate('/admin/manage-integrations');};const handleViewLogs=()=>{navigate('/admin/view-logs');};const handleLogout=()=>{navigate('/login');};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"nav-links\",children:/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"})})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Admin Dashboard\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Profile Status\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"counters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"counter\",onClick:()=>handleStatusClick('Pending'),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Pending\"}),/*#__PURE__*/_jsx(\"p\",{children:counters.pending})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"counter\",onClick:()=>handleStatusClick('Approved'),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Approved\"}),/*#__PURE__*/_jsx(\"p\",{children:counters.approved})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"counter\",onClick:()=>handleStatusClick('Rejected'),children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Rejected\"}),/*#__PURE__*/_jsx(\"p\",{children:counters.rejected})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"manage-users-button\",onClick:handleManageUsers,children:\"Manage Users\"}),/*#__PURE__*/_jsx(\"button\",{className:\"manage-profiles-button\",onClick:handleManageEvents,children:\"Manage Events\"}),/*#__PURE__*/_jsx(\"button\",{className:\"create-admin-button\",onClick:handleCreateAdmin,children:\"Create Admin\"}),/*#__PURE__*/_jsx(\"button\",{className:\"manage-integrations-button\",onClick:handleManageIntegrations,children:\"Manage Integrations\"}),/*#__PURE__*/_jsx(\"button\",{className:\"view-logs-button\",onClick:handleViewLogs,children:\"View Logs\"})]}),selectedStatus&&/*#__PURE__*/_jsxs(\"div\",{className:\"profiles-list\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[selectedStatus,\" Profiles\"]}),profiles.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No profiles to display.\"}):/*#__PURE__*/_jsx(\"ul\",{children:profiles.map(profile=>/*#__PURE__*/_jsxs(\"li\",{onClick:()=>handleProfileClick(profile),children:[/*#__PURE__*/_jsx(\"span\",{children:profile.username}),\" - \",/*#__PURE__*/_jsxs(\"span\",{children:[profile.first_name,\" \",profile.last_name]}),\" - \",/*#__PURE__*/_jsx(\"span\",{children:profile.host_type})]},profile.user_id))})]})]})]});};export default AdminDashboardPage;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","AdminDashboardPage","counters","setCounters","pending","approved","rejected","profiles","setProfiles","selectedStatus","setSelectedStatus","navigate","fetchCounters","response","fetch","data","json","error","console","handleStatusClick","status","handleProfileClick","profile","user_id","state","isAdmin","handleManageUsers","handleManageEvents","handleCreateAdmin","handleManageIntegrations","handleViewLogs","handleLogout","className","children","onClick","length","map","username","first_name","last_name","host_type"],"sources":["C:/Users/Rindella Nhavoto/Desktop/ProjectsVSC/SWEproject/events-system-frontend/src/components/AdminDashboardPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './AdminDashboardPage.css';\r\n\r\nconst AdminDashboardPage = () => {\r\n  const [counters, setCounters] = useState({ pending: 0, approved: 0, rejected: 0 });\r\n  const [profiles, setProfiles] = useState([]);\r\n  const [selectedStatus, setSelectedStatus] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // Fetch the counts for pending, approved, and rejected profiles\r\n    const fetchCounters = async () => {\r\n      try {\r\n        const response = await fetch('/api/admin/profile-counters');\r\n        const data = await response.json();\r\n        setCounters(data);\r\n      } catch (error) {\r\n        console.error('Error fetching profile counters:', error);\r\n      }\r\n    };\r\n\r\n    fetchCounters();\r\n  }, []);\r\n\r\n  const handleStatusClick = async (status) => {\r\n    setSelectedStatus(status);\r\n    try {\r\n      const response = await fetch(`/api/admin/profiles?status=${status}`);\r\n      const data = await response.json();\r\n      setProfiles(data);\r\n    } catch (error) {\r\n      console.error(`Error fetching ${status} profiles:`, error);\r\n    }\r\n  };\r\n\r\n  const handleProfileClick = (profile) => {\r\n    navigate(`/admin/vetting/${profile.user_id}`, { state: { profile, isAdmin: true } });\r\n  };\r\n\r\n  const handleManageUsers = () => {\r\n    navigate('/admin/manage-users');\r\n  };\r\n\r\n  const handleManageEvents = () => {\r\n    navigate('/admin/manage-events');\r\n  };\r\n\r\n  const handleCreateAdmin = () => {\r\n    navigate('/admin/create-admin');\r\n  };\r\n\r\n  const handleManageIntegrations = () => {\r\n    navigate('/admin/manage-integrations');\r\n  };\r\n\r\n  const handleViewLogs = () => {\r\n    navigate('/admin/view-logs');\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    navigate('/login');\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-dashboard\">\r\n      <header className=\"header\">\r\n        <nav className=\"nav-links\">\r\n          <ul>\r\n            <li><button onClick={handleLogout}>Logout</button></li>\r\n          </ul>\r\n        </nav>\r\n      </header>\r\n\r\n      <div className=\"content\">\r\n        <h1>Admin Dashboard</h1>\r\n        <h2>Profile Status</h2>\r\n        <div className=\"counters\">\r\n          <div className=\"counter\" onClick={() => handleStatusClick('Pending')}>\r\n            <h3>Pending</h3>\r\n            <p>{counters.pending}</p>\r\n          </div>\r\n          <div className=\"counter\" onClick={() => handleStatusClick('Approved')}>\r\n            <h3>Approved</h3>\r\n            <p>{counters.approved}</p>\r\n          </div>\r\n          <div className=\"counter\" onClick={() => handleStatusClick('Rejected')}>\r\n            <h3>Rejected</h3>\r\n            <p>{counters.rejected}</p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"actions\">\r\n          <button className=\"manage-users-button\" onClick={handleManageUsers}>Manage Users</button>\r\n          <button className=\"manage-profiles-button\" onClick={handleManageEvents}>Manage Events</button>\r\n          <button className=\"create-admin-button\" onClick={handleCreateAdmin}>Create Admin</button>\r\n          <button className=\"manage-integrations-button\" onClick={handleManageIntegrations}>Manage Integrations</button>\r\n          <button className=\"view-logs-button\" onClick={handleViewLogs}>View Logs</button>\r\n        </div>\r\n\r\n        {selectedStatus && (\r\n          <div className=\"profiles-list\">\r\n            <h2>{selectedStatus} Profiles</h2>\r\n            {profiles.length === 0 ? (\r\n              <p>No profiles to display.</p>\r\n            ) : (\r\n              <ul>\r\n                {profiles.map(profile => (\r\n                  <li key={profile.user_id} onClick={() => handleProfileClick(profile)}>\r\n                    <span>{profile.username}</span> - <span>{profile.first_name} {profile.last_name}</span> - <span>{profile.host_type}</span>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboardPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElC,KAAM,CAAAC,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGR,QAAQ,CAAC,CAAES,OAAO,CAAE,CAAC,CAAEC,QAAQ,CAAE,CAAC,CAAEC,QAAQ,CAAE,CAAE,CAAC,CAAC,CAClF,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACc,cAAc,CAAEC,iBAAiB,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAC1D,KAAM,CAAAgB,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAkB,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,6BAA6B,CAAC,CAC3D,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCb,WAAW,CAACY,IAAI,CAAC,CACnB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CAC1D,CACF,CAAC,CAEDL,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAO,iBAAiB,CAAG,KAAO,CAAAC,MAAM,EAAK,CAC1CV,iBAAiB,CAACU,MAAM,CAAC,CACzB,GAAI,CACF,KAAM,CAAAP,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,8BAA8BM,MAAM,EAAE,CAAC,CACpE,KAAM,CAAAL,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClCR,WAAW,CAACO,IAAI,CAAC,CACnB,CAAE,MAAOE,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,kBAAkBG,MAAM,YAAY,CAAEH,KAAK,CAAC,CAC5D,CACF,CAAC,CAED,KAAM,CAAAI,kBAAkB,CAAIC,OAAO,EAAK,CACtCX,QAAQ,CAAC,kBAAkBW,OAAO,CAACC,OAAO,EAAE,CAAE,CAAEC,KAAK,CAAE,CAAEF,OAAO,CAAEG,OAAO,CAAE,IAAK,CAAE,CAAC,CAAC,CACtF,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAGA,CAAA,GAAM,CAC9Bf,QAAQ,CAAC,qBAAqB,CAAC,CACjC,CAAC,CAED,KAAM,CAAAgB,kBAAkB,CAAGA,CAAA,GAAM,CAC/BhB,QAAQ,CAAC,sBAAsB,CAAC,CAClC,CAAC,CAED,KAAM,CAAAiB,iBAAiB,CAAGA,CAAA,GAAM,CAC9BjB,QAAQ,CAAC,qBAAqB,CAAC,CACjC,CAAC,CAED,KAAM,CAAAkB,wBAAwB,CAAGA,CAAA,GAAM,CACrClB,QAAQ,CAAC,4BAA4B,CAAC,CACxC,CAAC,CAED,KAAM,CAAAmB,cAAc,CAAGA,CAAA,GAAM,CAC3BnB,QAAQ,CAAC,kBAAkB,CAAC,CAC9B,CAAC,CAED,KAAM,CAAAoB,YAAY,CAAGA,CAAA,GAAM,CACzBpB,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAED,mBACEX,KAAA,QAAKgC,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BnC,IAAA,WAAQkC,SAAS,CAAC,QAAQ,CAAAC,QAAA,cACxBnC,IAAA,QAAKkC,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBnC,IAAA,OAAAmC,QAAA,cACEnC,IAAA,OAAAmC,QAAA,cAAInC,IAAA,WAAQoC,OAAO,CAAEH,YAAa,CAAAE,QAAA,CAAC,QAAM,CAAQ,CAAC,CAAI,CAAC,CACrD,CAAC,CACF,CAAC,CACA,CAAC,cAETjC,KAAA,QAAKgC,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBnC,IAAA,OAAAmC,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxBnC,IAAA,OAAAmC,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBjC,KAAA,QAAKgC,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBjC,KAAA,QAAKgC,SAAS,CAAC,SAAS,CAACE,OAAO,CAAEA,CAAA,GAAMf,iBAAiB,CAAC,SAAS,CAAE,CAAAc,QAAA,eACnEnC,IAAA,OAAAmC,QAAA,CAAI,SAAO,CAAI,CAAC,cAChBnC,IAAA,MAAAmC,QAAA,CAAI/B,QAAQ,CAACE,OAAO,CAAI,CAAC,EACtB,CAAC,cACNJ,KAAA,QAAKgC,SAAS,CAAC,SAAS,CAACE,OAAO,CAAEA,CAAA,GAAMf,iBAAiB,CAAC,UAAU,CAAE,CAAAc,QAAA,eACpEnC,IAAA,OAAAmC,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBnC,IAAA,MAAAmC,QAAA,CAAI/B,QAAQ,CAACG,QAAQ,CAAI,CAAC,EACvB,CAAC,cACNL,KAAA,QAAKgC,SAAS,CAAC,SAAS,CAACE,OAAO,CAAEA,CAAA,GAAMf,iBAAiB,CAAC,UAAU,CAAE,CAAAc,QAAA,eACpEnC,IAAA,OAAAmC,QAAA,CAAI,UAAQ,CAAI,CAAC,cACjBnC,IAAA,MAAAmC,QAAA,CAAI/B,QAAQ,CAACI,QAAQ,CAAI,CAAC,EACvB,CAAC,EACH,CAAC,cAENN,KAAA,QAAKgC,SAAS,CAAC,SAAS,CAAAC,QAAA,eACtBnC,IAAA,WAAQkC,SAAS,CAAC,qBAAqB,CAACE,OAAO,CAAER,iBAAkB,CAAAO,QAAA,CAAC,cAAY,CAAQ,CAAC,cACzFnC,IAAA,WAAQkC,SAAS,CAAC,wBAAwB,CAACE,OAAO,CAAEP,kBAAmB,CAAAM,QAAA,CAAC,eAAa,CAAQ,CAAC,cAC9FnC,IAAA,WAAQkC,SAAS,CAAC,qBAAqB,CAACE,OAAO,CAAEN,iBAAkB,CAAAK,QAAA,CAAC,cAAY,CAAQ,CAAC,cACzFnC,IAAA,WAAQkC,SAAS,CAAC,4BAA4B,CAACE,OAAO,CAAEL,wBAAyB,CAAAI,QAAA,CAAC,qBAAmB,CAAQ,CAAC,cAC9GnC,IAAA,WAAQkC,SAAS,CAAC,kBAAkB,CAACE,OAAO,CAAEJ,cAAe,CAAAG,QAAA,CAAC,WAAS,CAAQ,CAAC,EAC7E,CAAC,CAELxB,cAAc,eACbT,KAAA,QAAKgC,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BjC,KAAA,OAAAiC,QAAA,EAAKxB,cAAc,CAAC,WAAS,EAAI,CAAC,CACjCF,QAAQ,CAAC4B,MAAM,GAAK,CAAC,cACpBrC,IAAA,MAAAmC,QAAA,CAAG,yBAAuB,CAAG,CAAC,cAE9BnC,IAAA,OAAAmC,QAAA,CACG1B,QAAQ,CAAC6B,GAAG,CAACd,OAAO,eACnBtB,KAAA,OAA0BkC,OAAO,CAAEA,CAAA,GAAMb,kBAAkB,CAACC,OAAO,CAAE,CAAAW,QAAA,eACnEnC,IAAA,SAAAmC,QAAA,CAAOX,OAAO,CAACe,QAAQ,CAAO,CAAC,MAAG,cAAArC,KAAA,SAAAiC,QAAA,EAAOX,OAAO,CAACgB,UAAU,CAAC,GAAC,CAAChB,OAAO,CAACiB,SAAS,EAAO,CAAC,MAAG,cAAAzC,IAAA,SAAAmC,QAAA,CAAOX,OAAO,CAACkB,SAAS,CAAO,CAAC,GADnHlB,OAAO,CAACC,OAEb,CACL,CAAC,CACA,CACL,EACE,CACN,EACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAtB,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}