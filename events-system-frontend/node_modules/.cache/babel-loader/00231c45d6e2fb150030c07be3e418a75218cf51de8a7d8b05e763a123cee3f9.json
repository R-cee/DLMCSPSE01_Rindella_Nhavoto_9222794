{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import'./AttendeeHeader.css';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faBell}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AttendeeHeader=()=>{const navigate=useNavigate();const[unreadCount,setUnreadCount]=useState(0);useEffect(()=>{const fetchUnreadNotifications=async()=>{try{const token=localStorage.getItem('jwt_token');const response=await fetch('/notifications/unread-count',{headers:{'Authorization':`Bearer ${token}`}});if(response.ok){const data=await response.json();setUnreadCount(data.unread_count);}else{console.error('Failed to fetch unread notifications count');}}catch(error){console.error('Error fetching unread notifications count:',error);}};fetchUnreadNotifications();},[]);return/*#__PURE__*/_jsx(\"header\",{className:\"header\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"nav-links\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/login'),children:\"Logout\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"settings-dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{children:\"Profile\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-content\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/change-password'),children:\"Change Password\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/view-proof-of-payment'),children:\"View Proof of Payment\"})]})]})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/my-events'),children:\"My Events\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/landing'),children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"button\",{className:`notification-button ${unreadCount>0?'glow':''}`,onClick:()=>navigate('/attendee-notifications'),children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faBell}),unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"notification-badge\",children:unreadCount})]})})]})})});};export default AttendeeHeader;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","FontAwesomeIcon","faBell","jsx","_jsx","jsxs","_jsxs","AttendeeHeader","navigate","unreadCount","setUnreadCount","fetchUnreadNotifications","token","localStorage","getItem","response","fetch","headers","ok","data","json","unread_count","console","error","className","children","onClick","icon"],"sources":["C:/Users/Rindella Nhavoto/Desktop/ProjectsVSC/SWEproject/EventsGit/DLMCSPSE01_Rindella_Nhavoto_9222794/events-system-frontend/src/components/AttendeeHeader.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './AttendeeHeader.css';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faBell } from '@fortawesome/free-solid-svg-icons';\r\n\r\nconst AttendeeHeader = () => {\r\n  const navigate = useNavigate();\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const fetchUnreadNotifications = async () => {\r\n      try {\r\n        const token = localStorage.getItem('jwt_token');\r\n        const response = await fetch('/notifications/unread-count', {\r\n          headers: {\r\n            'Authorization': `Bearer ${token}`,\r\n          },\r\n        });\r\n\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          setUnreadCount(data.unread_count);\r\n        } else {\r\n          console.error('Failed to fetch unread notifications count');\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching unread notifications count:', error);\r\n      }\r\n    };\r\n\r\n    fetchUnreadNotifications();\r\n  }, []);\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <nav className=\"nav-links\">\r\n        <ul>\r\n          <li><button onClick={() => navigate('/login')}>Logout</button></li>\r\n          <li>\r\n            <div className=\"settings-dropdown\">\r\n              <button>Profile</button>\r\n              <div className=\"dropdown-content\">\r\n                <button onClick={() => navigate('/change-password')}>Change Password</button>\r\n                <button onClick={() => navigate('/view-proof-of-payment')}>View Proof of Payment</button>\r\n              </div>\r\n            </div>\r\n          </li>\r\n          <li><button onClick={() => navigate('/my-events')}>My Events</button></li>\r\n          <li><button onClick={() => navigate('/landing')}>Home</button></li>\r\n          <li>\r\n            <button\r\n              className={`notification-button ${unreadCount > 0 ? 'glow' : ''}`}\r\n              onClick={() => navigate('/attendee-notifications')}\r\n            >\r\n              <FontAwesomeIcon icon={faBell} />\r\n              {unreadCount > 0 && <span className=\"notification-badge\">{unreadCount}</span>}\r\n            </button>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default AttendeeHeader;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}