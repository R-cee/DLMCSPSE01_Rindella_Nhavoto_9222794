{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./ManageUserPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManageUserPage=()=>{const[users,setUsers]=useState([]);useEffect(()=>{fetchUsers();},[]);const fetchUsers=async()=>{try{const response=await fetch('/api/admin/users');const data=await response.json();setUsers(data);}catch(error){console.error('Error fetching users:',error);}};const toggleUserStatus=async user_id=>{try{const response=await fetch(`/api/admin/user-status/${user_id}`,{method:'POST'});const data=await response.json();if(data.success){fetchUsers();}else{alert('Error updating user status');}}catch(error){console.error('Error updating user status:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"manage-user-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Manage Users\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user.username}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.role}),/*#__PURE__*/_jsx(\"td\",{children:user.status}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:`status-button ${user.status==='active'?'active':'blocked'}`,onClick:()=>toggleUserStatus(user.user_id),children:user.status==='active'?'Block':'Unblock'})})]},user.user_id))})]})]});};export default ManageUserPage;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","ManageUserPage","users","setUsers","fetchUsers","response","fetch","data","json","error","console","toggleUserStatus","user_id","method","success","alert","className","children","map","user","username","email","role","status","onClick"],"sources":["C:/Users/Rindella Nhavoto/Desktop/ProjectsVSC/SWEproject/events-system-frontend/src/components/ManageUserPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './ManageUserPage.css';\r\n\r\nconst ManageUserPage = () => {\r\n    const [users, setUsers] = useState([]);\r\n\r\n    useEffect(() => {\r\n        fetchUsers();\r\n    }, []);\r\n\r\n    const fetchUsers = async () => {\r\n        try {\r\n            const response = await fetch('/api/admin/users');\r\n            const data = await response.json();\r\n            setUsers(data);\r\n        } catch (error) {\r\n            console.error('Error fetching users:', error);\r\n        }\r\n    };\r\n\r\n    const toggleUserStatus = async (user_id) => {\r\n        try {\r\n            const response = await fetch(`/api/admin/user-status/${user_id}`, {\r\n                method: 'POST',\r\n            });\r\n            const data = await response.json();\r\n            if (data.success) {\r\n                fetchUsers(); \r\n            } else {\r\n                alert('Error updating user status');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error updating user status:', error);\r\n        }\r\n    };    \r\n\r\n    return (\r\n        <div className=\"manage-user-page\">\r\n            <h2>Manage Users</h2>\r\n            <table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Username</th>\r\n                        <th>Email</th>\r\n                        <th>Role</th>\r\n                        <th>Status</th>\r\n                        <th>Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {users.map((user) => (\r\n                        <tr key={user.user_id}>\r\n                            <td>{user.username}</td>\r\n                            <td>{user.email}</td>\r\n                            <td>{user.role}</td>\r\n                            <td>{user.status}</td>\r\n                            <td>\r\n                                <button\r\n                                    className={`status-button ${user.status === 'active' ? 'active' : 'blocked'}`}\r\n                                    onClick={() => toggleUserStatus(user.user_id)}\r\n                                >\r\n                                    {user.status === 'active' ? 'Block' : 'Unblock'}\r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ManageUserPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}